plugins {
    id 'java'
    id 'idea'
    id 'org.jetbrains.intellij' version '0.4.9'
}

group 'de.lukweb'
version '1.08'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

intellij {
    version '2018.3.3' // Full list of IntelliJ IDEA releases: https://www.jetbrains.com/intellij-repository/releases
    pluginName 'HasteIt'
    updateSinceUntilBuild false // Disables updating until-build attribute in plugin.xml
}

patchPluginXml {
    changeNotes """
      <ul>
      <li>Added a HasteIt button in the editor popup menu</li>
      <li>Fresh icons</li>
      <li>Share from the file explorer or without a selection</li>
      <li>You can now use your custom hastebin instance. Go to settings -> tools -> HasteIt</li>
      </ul>
      """
}

publishPlugin {
    // Publishing with gradle.properties
    username project.ext.properties.publishUsername
    token project.ext.properties.publishToken
}